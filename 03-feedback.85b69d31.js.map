{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAYC,SAASC,cAAc,kBACnCC,EAAoB,sBAEtBC,EAAc,IAwBlB,WACE,IACE,IAAIC,EAAiBC,KAAKC,MAAMC,aAAaC,QAAQN,IACrD,IAAKE,EACH,OAEFD,EAAcC,EACdL,EAAUU,MAAMC,MAAQP,EAAYM,MACpCV,EAAUY,QAAQD,MAAQP,EAAYQ,O,CACtC,MAAOC,GACPC,QAAQD,MAAM,UAAWA,EAAMD,Q,EAjCnCG,GAEAf,EAAUgB,iBAAiB,SAAS,EAAAlB,EAAAmB,WAGpC,WACEb,EAAcJ,EAAUkB,SACxB,IAAIR,EAAQV,EAAUU,MAAMC,MACxBC,EAAUZ,EAAUY,QAAQD,MAChCQ,gBAAkB,CAAET,QAAOE,WAC3BJ,aAAaY,QAAQjB,EAAmBG,KAAKe,UAAUF,iB,GARC,MAC1DnB,EAAUgB,iBAAiB,UAU3B,SAAoBM,GAElB,GADAA,EAAEC,kBACGD,EAAEE,OAAOd,MAAMC,QAAUW,EAAEE,OAAOZ,QAAQD,MAE7C,YADAc,MAAM,WAGRH,EAAEE,OAAOE,QACTZ,QAAQa,IAAIrB,KAAKC,MAAMC,aAAaC,QAAQN,KAC5CK,aAAaoB,WAAWzB,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst inputForm = document.querySelector('.feedback-form');\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nlet newFeedback = {};\nsetLocalStorage();\n\ninputForm.addEventListener('input', throttle(onFormInput, 500));\ninputForm.addEventListener('submit', submitForm);\n\nfunction onFormInput() {\n  newFeedback = inputForm.elements;\n  let email = inputForm.email.value;\n  let message = inputForm.message.value;\n  realtimeStorage = { email, message };\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(realtimeStorage));\n}\n\nfunction submitForm(e) {\n  e.preventDefault();\n  if (!e.target.email.value || !e.target.message.value) {\n    alert('No data');\n    return;\n  }\n  e.target.reset();\n  console.log(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)));\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n}\nfunction setLocalStorage() {\n  try {\n    let currentStorage = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (!currentStorage) {\n      return;\n    }\n    newFeedback = currentStorage;\n    inputForm.email.value = newFeedback.email;\n    inputForm.message.value = newFeedback.message;\n  } catch (error) {\n    console.error('Error: ', error.message);\n  }\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$inputForm","document","querySelector","$b00c40859be242c5$var$LOCAL_STORAGE_KEY","$b00c40859be242c5$var$newFeedback","currentStorage","JSON","parse","localStorage","getItem","email","value","message","error","console","$b00c40859be242c5$var$setLocalStorage","addEventListener","throttle","elements","realtimeStorage","setItem","stringify","e","preventDefault","target","alert","reset","log","removeItem"],"version":3,"file":"03-feedback.85b69d31.js.map"}
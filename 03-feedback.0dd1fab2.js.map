{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAYC,SAASC,cAAc,kBAGzC,IAAIC,EAAc,IAwBlB,WACE,IACE,IAAIC,EAAiBC,KAAKC,MAAMC,aAAaC,QA5BvB,wBA6BtB,IAAKJ,EACH,OAEFD,EAAcC,EACdJ,EAAUS,MAAMC,MAAQP,EAAYM,MACpCT,EAAUW,QAAQD,MAAQP,EAAYQ,O,CACtC,MAAOC,GACPC,QAAQD,MAAM,UAAWA,EAAMD,Q,EAjCnCG,GAEAd,EAAUe,iBAAiB,SAAS,EAAAjB,EAAAkB,WAGpC,WACEb,EAAcH,EAAUiB,SACxB,IAAIR,EAAQT,EAAUS,MAAMC,MACxBC,EAAUX,EAAUW,QAAQD,MAC5BQ,EAAkB,C,MAAET,E,QAAOE,GAC/BJ,aAAaY,QAbW,sBAagBd,KAAKe,UAAUF,G,GARC,MAC1DlB,EAAUe,iBAAiB,UAU3B,SAAoBM,GAElB,GADAA,EAAEC,kBACGD,EAAEE,OAAOd,MAAMC,QAAUW,EAAEE,OAAOZ,QAAQD,MAE7C,YADAc,MAAM,WAGRH,EAAEE,OAAOE,QACTZ,QAAQa,IAAIrB,KAAKC,MAAMC,aAAaC,QAvBZ,yBAwBxBD,aAAaoB,WAxBW,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst inputForm = document.querySelector('.feedback-form');\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nlet newFeedback = {};\nsetLocalStorage();\n\ninputForm.addEventListener('input', throttle(onFormInput, 500));\ninputForm.addEventListener('submit', submitForm);\n\nfunction onFormInput() {\n  newFeedback = inputForm.elements;\n  let email = inputForm.email.value;\n  let message = inputForm.message.value;\n  let realtimeStorage = { email, message };\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(realtimeStorage));\n}\n\nfunction submitForm(e) {\n  e.preventDefault();\n  if (!e.target.email.value || !e.target.message.value) {\n    alert('No data');\n    return;\n  }\n  e.target.reset();\n  console.log(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)));\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n}\nfunction setLocalStorage() {\n  try {\n    let currentStorage = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (!currentStorage) {\n      return;\n    }\n    newFeedback = currentStorage;\n    inputForm.email.value = newFeedback.email;\n    inputForm.message.value = newFeedback.message;\n  } catch (error) {\n    console.error('Error: ', error.message);\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$inputForm","document","querySelector","$945622fd0f572e60$var$newFeedback","currentStorage","JSON","parse","localStorage","getItem","email","value","message","error","console","$945622fd0f572e60$var$setLocalStorage","addEventListener","throttle","elements","realtimeStorage","setItem","stringify","e","preventDefault","target","alert","reset","log","removeItem"],"version":3,"file":"03-feedback.0dd1fab2.js.map"}